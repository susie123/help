<html>
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=gbk">
		<meta http-equiv="X-UA-Compatible" content="IE=8" />
		<meta name="keywords" content="">
		<title>报表填报属性</title>
		<link id="css" rel="stylesheet" type="text/css" href="../../resources/default.css" />
		<script type="text/javascript" src="../../resources/default.js"></script>
		<script type="text/javascript" src="../../resources/jquery.js"></script>
		<script type="text/javascript" src="../../resources/ZeroClipboard.js"></script>
		<script type="text/javascript">
		var _bdhmProtocol = (("https:" == document.location.protocol) ? " https://" : " http://");
			document.write(unescape("%3Cscript src='" + _bdhmProtocol + "hm.baidu.com/h.js%3F446ba997c880bc18e23c0fcc5c99ecfb' type='text/javascript'%3E%3C/script%3E"));
			</script>

		<style>
		.copy{
		BORDER-TOP:rgb(18, 135, 172) 1px solid;
		border-bottom:rgb(18, 135, 172) 1px solid;
		border-left:rgb(18, 135, 172) 1px solid;
		border-right:rgb(18, 135, 172) 1px solid;
		background:rgb(225, 234, 245)
		}</style>

	</head>

	<body>

 



		<a name="docname"></a>
		<span id="hidediv"> 已经投票 </span> <div class="docnavi"><a class="alink" href="../folder.html">填报入门</a> >> <a class="alink" href="folder.html">报表填报属性</a></div>
		<div class="doc_body">
			<table border="0" cellspacing="0">
				<tr>
					<td>
						<h1 align="left">
							报表填报属性
						</h1>
					</td>
					<td class="ding_td">
						顶(
						<span id="countding_title"></span>)
					</td> 
			</table>
			<table class="time_table" width="100%" border="0" cellspacing="0">
				<tr>
					<td>
						最后更新日期：
						<span id="lastupdatetime"></span>
					</td>
					<td class="dh_tdA" align="left">
						有
						<a id="countcomment"
							onclick="document.location.href='#A';changeTab(1)"></a>人发表评论
						<a class="selcomment" name="coment"
							onclick="document.location.href='#A';changeTab(1)">(点击查看)</a>
					</td>
				</tr>
			</table>

			<ul><li><a href="#a:1.">描述</a></li><li><a href="#a:2.">内置SQL</a></li><ul><li><a href="#a:2.1">选择提交类型</a></li><li><a href="#a:2.2">选择数据库表</a></li><li><a href="#a:2.3">添加字段</a></li><li><a href="#a:2.4">添加单元格</a></li><li><a href="#a:2.5">设置提交条件</a></li></ul><li><a href="#a:3.">自定义事件</a></li></ul><hr/>
			<div class="xuxian_hr"></div>
			<!-- 这是导航与文档正文的分隔线 -->
			<a name="a:1."><div class=doc_h1>1. <span>描述</span></div></a><div class=doc_description><span>由</span><span><a href="../../5/15/folder.html" target="_blank" onclick="addTabPage(href,this.innerHTML);return false;">自由填报表例子</a></span><span>例子可以体会到，在制作填报表是，最重要的步骤就是给数据库表中的字段绑定保存的值，通过设置</span><span class="doc_navigation">模板>报表填报属性</span><span>来控制。</span></div><div class=doc_description><span>在给字段绑定值时最常见的就是通过内置SQL绑定单元格，此时类似Excel中，可以智能添加单元格；除绑定单元格外，数据列的值还能够是常量、公式、参数等等。</span></div><div class=doc_description><span>还有一种方法是通过自定义事件来实现自定义提交。下面分别介绍：</span></div><a name="a:2."><div class=doc_h1>2. <span>内置SQL</span></div></a><div class=doc_description><span>点击</span><span class="doc_navigation">模板>报表填报属性</span><span>，打开报表填报属性设置界面，增加内置SQL（一个内置SQL对应一张数据库表的操作），如下图：</span><span></span></div><div class=doc_description><img src=folder-1.png></img></div><div class=doc_description><span>内置SQL面板的设置步骤如下图：</span></div><div class=doc_description><img src=folder-2.png></img></div><a name="a:2.1"><div class=doc_h2>2.1 <span>选择提交类型</span></div></a><div class=doc_description><span>FineReport对于填报数据的提交类型提供了四种方式：</span><span class="doc_navigation">智能提交</span><span>、</span><span class="doc_navigation">插入提交</span><span>、</span><span class="doc_navigation">删除提交</span><span>和</span><span class="doc_navigation">更新提交</span><span>，如下图：</span></div><div class=doc_description><img src=folder-3.png></img></div><div class=doc_description><span>提交类型的详细介绍请查看</span><span><a href="../../5/16/0.html" target="_blank" onclick="addTabPage(href,this.innerHTML);return false;">提交类型</a></span><span>。</span></div><div class=doc_description><span></span><span class="doc_warning">注：默认的提交类型为智能提交，一般性使用的最多的也是智能提交。</span></div><a name="a:2.2"><div class=doc_h2>2.2 <span>选择数据库表</span></div></a><div class=doc_description><span>报表填报是指将数据填报至数据库中，那么填报到哪个数据库，哪个数据表中该怎么判断呢，因此需要在填报属性中选择填报入库的数据库表，如下图：</span></div><div class=doc_description><img src=folder-4.png></img></div><div class=doc_description><span>对于Oracle数据库来说，需要选择模式（oracle中的用户名），在选择表时可以通过首字母快速定位。</span></div><div class=doc_description><span class="doc_warning">注：数据库名称和表名称，可下拉框选择，可手动输入名称，也可以输入参数名称实现动态填报，即动态修改填报的数据库或者是数据表，详细示例请查看</span><span><a href="../../12/15/6.html" target="_blank" onclick="addTabPage(href,this.innerHTML);return false;">动态改变填报数据库表(日报表、月报表填报)</a></span><span>：</span></div><a name="a:2.3"><div class=doc_h2>2.3 <span>添加字段</span></div></a><div class=doc_description><span>选择表后，点击</span><span class="doc_navigation">智能添加字段</span><span>按钮，会自动读取数据库中表中的所有字段，若不想添加全部，可以去掉字段前面的勾选，如下图：</span><span></span></div><div class=doc_description><img src=folder-5.png></img></div><div class=doc_description><span>除了使用智能添加字段来一次性添加多个字段之外，还可以直接点击</span><span class="doc_navigation">添加字段</span><span>按钮来单个的添加字段，如下图：</span></div><div class=doc_description><img src=folder-6.png></img></div><div class=doc_description><span>选中某个字段，点击</span><span class="doc_navigation">移除字段</span><span>即可将其从列表中删除。</span></div><a name="a:2.4"><div class=doc_h2>2.4 <span>添加单元格</span></div></a><div class=doc_description><span>字段添加完成之后，点击智能添加单元格或者只能添加单元格组，就可以给数据列绑定单元格，如下图，点击</span><span class="doc_navigation">智能添加单元格</span><span>，在弹出的对话框中选择报表主体中的单元格，为数据列绑定单元格：</span></div><div class=doc_description><img src=folder-7.png></img></div><div class=doc_description><span class="doc_warning">注：智能添加单元格组是指为一个数据列绑定多个单元格，将多个单元格中的数据全部填报至该字段中，详细设置使用过程请查看</span><span><a href="../../12/15/8.html" target="_blank" onclick="addTabPage(href,this.innerHTML);return false;">多个单元格绑定一个字段</a></span></div><div class=doc_description><span>我们不仅可以给数据列绑定单元格，还可以使用字符串常量、公式、参数等等不同类型的数据，如下图</span></div><div class=doc_description><span></span><img src=folder-8.png></img></div><div class=doc_description><span>若用户在模板中插入了一行或一列，导致填报单元格整体偏移了一格，此时可以使用</span><span class="doc_navigation">批量修改单元格</span><span>，整体批量修改，如下图：</span></div><div class=doc_description><img src=folder-9.png></img></div><div class=doc_description><span>至此，填报属性的必要步骤设置完成。</span></div><a name="a:2.5"><div class=doc_h2>2.5 <span>设置提交条件</span></div></a><div class=doc_description><span>使用内置SQL填报数据，可以对填报数据进行过滤，如果web端提交的数据满足条件，则可以入库，不满足，则不入库，点击</span><span class="doc_navigation">设置提交条件</span><span>即可添加过滤条件，如下图：</span></div><div class=doc_description><img src=folder-10.png></img></div><div class=doc_description><span>提交条件是指填报数据执行sql语句的时候，如果当前执行的sql语句中的关于提交条件中的字段符合提交条件则正常执行，如果不符合条件则跳过不执行，即不入库，继续执行下一条sql语句，比如说设置提交条件为：成本价不为空，如果在填报的时候，某条记录的成本价为空，则该条记录不入库。</span></div><div class=doc_description><span>其应用示例请查看</span><span><a href="../../12/15/7.html" target="_blank" onclick="addTabPage(href,this.innerHTML);return false;">空白数据不入库(设置提交条件)</a></span></div><a name="a:3."><div class=doc_h1>3. <span>自定义事件</span></div></a><div class=doc_description><span>如下图，在报表填报属性页面，可增加自定义事件，自定义事件可通过FR提供的API接口来实现不同的类，接着将该类导入到设计器中，即可实现自定义事件，详细请参照</span><span><a href="../../12/15/15.html" target="_blank" onclick="addTabPage(href,this.innerHTML);return false;">自定义事件</a></span><span>：</span></div><div class=doc_description><img src=folder-11.png></img></div><div class=doc_description><span class="doc_warning">注：添加了多个内置SQL后（不论几个sheet里面的内置SQL），提交时有一个执行不通过的话，后面的内置SQL就不会执行，前面的执行过的也会无效（FR填报支持事务回滚机制）。</span></div><div class=doc_description><span class="doc_warning">另：在数据commit时出现异常，或者回滚时出现异常时， 如果最终是失败的，后台额外报错提示 前者是 “数据提交出错，无法回滚”，后者是 “数据回滚失败”。  前端都提示”失败”。</span></div> <hr/><span>索引:</span><ul><li><a href="0.html">提交类型</a></li></ul><hr/>
			 <table class="dc_table" width="100%">
				<tr>
					<td>
						&nbsp
					</td>
					<td class="span_td">
						<div class="abc" id="yesinput" onClick="javascript:yes()">
							<table width="150px" height="18px">
								<tr>
									<td>
										&nbsp
									</td>
								</tr>
							</table>
							<div class="per">
								<span id="sb"
									style="width: 0px; height: 5px; background: #000080; display: block"></span>
							</div>
							<span id="yes" class="test"></span>
						</div>
					</td>
					<td width="5px">
						&nbsp
					</td>
					<td class="span_td">
						<div class="abc" id="noinput" onClick="javascript:no()">
							<table width="150px">
								<tr>
									<td>
										&nbsp
									</td>
								</tr>
							</table>
							<div class="per">
								<span id="sa"
									style="width: 0px; height: 5px; background: #000080; display: block"></span>
							</div>
							<span id="no"></span><span id="testno"></span>
						</div>
					</td>
					<td>
						&nbsp
						<span id="hidespan">&nbsp</span>
					</td>
				</tr>
			</table>
			<div class="xuxian_hr"></div>
			<div class='comment_div'>
				文明发言，用心评论
			</div>
			<table class='newcomment_table'>
				<tr>
					<td id="comment_td" rowspan="2">
						<textarea class="input" name="comment" id="comment_id"></textarea>
					</td>
					<td>
						&nbsp
					</td>
					<td class='newcomment_td'>
						<div class="newcomment_div">
							应用此篇文章，您:
						</div>
						<input type="radio" id="solveproblem" name="solveproblem"
							value="yes" onClick="addcomment('不费力')">
						不费力
						<br>

						<input type="radio" id="solveproblem" name="solveproblem"
							checked="checked" value="Medium" onClick="addcomment('研究了一会')">
						研究了一会
						<br>
						<input type="radio" id="solveproblem" name="solveproblem"
							value="no" onClick="addcomment('琢磨了好久')">
						琢磨了好久
						<br>
					</td>
				</tr>
				<tr>
					<td>
						&nbsp
					</td>
					<td id="commit_td">
						<div id="commit_id" type="button" name="commit" value=""
							onclick="dosubmit('comment');" />
					</td>
				</tr>
			</table>
			<div class='tabnav'>

				<a id='tab1' onclick='changeTab(1)' name="A"></a>
				<!-- | <a id='tab2' onclick='changeTab(2)' name="B">相关问题</a> -->
			 </div>
			<div id='tabid1' class='tabid'>
				<table id="reportFramed_table">
					<tr id="sel_tr">
						<td class="selall" align="right">
							<a id="ycsall_td" onClick="selmore('aa')">查看全部<span
								id="countallcomment" class="countallcomment"></span>条>></a>
						</td>
						<td class="selall" align="right">
							<a id="yc_td" style="display: none" onClick="selmore('bb')">
								&lt;&lt;只显示<span class="countallcomment">5</span>条 </a>
						</td>
					</tr>
					<tr align="left">
						<td colspan="2" align="left" id="reportFramed">
							<iframe scrolling="no" frameborder="0" frameborder="no"
								align="left" id="reportFrame"></iframe>
						</td>
					</tr>

				</table>
			</div>
			<div id='tabid2' class='tabid' style='display: none;'>
				<table width="90%">
					<tr>
						<td align="right">
							<a width="95%" href="http://bbs.finereport.com/forum.php">去论坛提问</a>
							<br>
						</td>
					</tr>
				</table>

				<iframe frameBorder="0" align="left" width="98%" height="500px"
					id="luntaniframe"></iframe>
			</div>
			<tr> </tr>
			<tr> </tr>
			<tr> </tr>
		<div class="onlineService" style="display: block;">
			<div class="ico_sh">
				<a  id='copytitle' href="javascript:void(0);" onclick="copytitle()" title="" style="width: 37px; overflow: hidden;"></a>
			</div>
			<div class="ico_pp">
				<a href="http://bbs.finereport.com/plugin.php?id=hux_zhidao:hux_zhidao" target="_blank" title="问题求助" style="width: 37px; overflow: hidden;"></a>
			</div>
			<div class="ico_gt">
				<a href="javascript:void(0);" title="" style="overflow: hidden; width: 37px;"></a>
		    </div>
		</div>			

			
<!-- JiaThis Button BEGIN -->
<script type="text/javascript" >
var jiathis_config={
	summary:"",
	marginTop:20,
	showClose:true,
	shortUrl:false,
	hideMore:false
}
</script>
<script type="text/javascript" src="http://v3.jiathis.com/code/jiathis_r.js?btn=r.gif&move=0" charset="utf-8"></script>
<!-- JiaThis Button END -->



			<table width="100%">
				<tbody>
					<tr>
						<td align="right">
							CopyRight@2015
							<br />
							帆软软件有限公司 苏ICP备14031611号-1
						</td>
					</tr>
				</tbody>
			</table>
		</div>
	</body>
