<html>
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=GBK">
		<meta http-equiv="X-UA-Compatible" content="IE=8" />
		<meta name="keywords" content="">
		<title>JDBC连接数据库</title>
		<link id="css" rel="stylesheet" type="text/css" href="../../resources/default.css" />
		<script type="text/javascript" src="../../resources/default.js"></script>
		<script type="text/javascript" src="../../resources/jquery.js"></script>
		<script type="text/javascript" src="../../resources/ZeroClipboard.js"></script>
		<script type="text/javascript">
			var _bdhmProtocol = (("https:" == document.location.protocol) ? " https://" : " http://");
			document.write(unescape("%3Cscript src='" + _bdhmProtocol + "hm.baidu.com/h.js%3F446ba997c880bc18e23c0fcc5c99ecfb' type='text/javascript'%3E%3C/script%3E"));
		</script>
		<style>
		.copy{
		BORDER-TOP:rgb(18, 135, 172) 1px solid;
		border-bottom:rgb(18, 135, 172) 1px solid;
		border-left:rgb(18, 135, 172) 1px solid;
		border-right:rgb(18, 135, 172) 1px solid;
		background:rgb(225, 234, 245)
		}</style>

	</head>
	<body>


 



		<a name="docname"></a>
		<div class="docnavi"><a class="alink" href="../folder.html">设计思路</a> >> <a class="alink" href="folder.html">数据连接</a> >> <a class="alink" href="7.html">JDBC连接数据库</a></div>
		<div class="doc_body">
			<table border="0" cellspacing="0">
				<tr>
					<td>
						<h1 align="left">
							JDBC连接数据库
						</h1>
					</td>
				 <td class="ding_td">
						顶(
						<span id="countding_title"></span>)
					</td> 
				</tr>
			</table>
			<table class="time_table" width="100%" border="0" cellspacing="0">
				<tr>
					<td>
						最后更新日期：
						<span id="lastupdatetime"></span>
					</td>
					<td class="dh_tdA" align="left">
						有
						<a id="countcomment"
							onclick="document.location.href='#A';changeTab(1)"></a>人发表评论
						<a class="selcomment" name="coment"
							onclick="document.location.href='#A';changeTab(1)">(点击查看)</a>
					</td>
				</tr>
			</table>
			<ul><li><a href="#a:1.">JDBC连接数据库示例</a></li><ul><li><a href="#a:1.1">Access数据库</a></li><li><a href="#a:1.2">Oracle数据库</a></li></ul><li><a href="#a:2.">数据库驱动及URL对应表</a></li></ul>
			<div class="xuxian_hr"></div>
			<!-- 这是导航与文档正文的分隔线 -->
			<div class=doc_key><span>Access连接数据库失败，access连接数据库</span></div><a name="a:1."><div class=doc_h1>1. <span>JDBC连接数据库示例</span></div></a><div class=doc_description><span>我们以连接Access和Oracle数据库为例介绍JDBC方式连接数据库的操作步骤。</span></div><a name="a:1.1"><div class=doc_h2>1.1 <span>Access数据库</span></div></a><div class=doc_description><span class="doc_warning">注：选择数据库类型如Access，会自动加载的驱动器及默认的URL，修改了URL后，由于8.0设计器自带的jdk升级到了1.8版本，不自带有odbc驱动，会导致原来的odbc连接access不能使用，有两种方法，第一种使用jdk1.7版本的设计器，第二种使用第三方UCanAccess-2.0.9.2的jar包</span><span>。</span></div><div class=doc_description><span>方法一：</span></div><div class=doc_description><span>我们提供内置jdk1.7的设计器安装包</span><span><a href="http://pan.baidu.com/s/1qW1HV8g" target="_blank" onclick="addTabPage(href,this.innerHTML);return false;">windows_FineReport-CN_jdk1_7.exe</a></span><span>。</span></div><div class=doc_description><span class="doc_warning">另：这个内置jdk1.7的设计器 不支持三个新功能，消息推送，资讯框，自动更新插件的重启。</span></div><ul class=doc_bullets><li>新建数据库，选择JDBC方式连接</li></ul><div class=doc_description><img src=7-1.png></img></div><ul class=doc_bullets><li>选择数据库类型，选择驱动器，修改URL</li></ul><div class=doc_description><img src=7-2.png></img></div><div class=doc_description><span>方法二：</span></div><ul class=doc_bullets><li>下载第三方jar包</li></ul><div class=doc_description><span>需要使用连接access数据库的第三方jdbc驱动</span><span><a href="http://pan.baidu.com/s/1kTMm89h" target="_blank" onclick="addTabPage(href,this.innerHTML);return false;">UCanAccess-2.0.9.2</a></span><span>。</span></div><div class=doc_description><span class="doc_warning">注：需要用户自己将对应驱动放置在</span><span class="doc_dir">%FR_HOME%\WebReport\WEB-INF\lib</span><span>文件夹下。如下图所示：</span></div><div class=doc_description><img src=7-3.png></img></div><ul class=doc_bullets><li>新建数据库，选择JDBC方式连接，选择数据库类型，选择驱动器，修改URL</li></ul><div class=doc_description><span>驱动器修改为</span><span class="doc_formula">net.ucanaccess.jdbc.UcanaccessDriver</span><span>；URL修改为</span><span class="doc_formula">jdbc:ucanaccess://</span><span>access数据库所在的路径；如下图所示：</span></div><div class=doc_description><img src=7-4.png></img></div><div class=doc_description><img src=7-5.png></img></div><ul class=doc_bullets><li>连接池属性</li></ul><div class=doc_description><span>点击</span><span class="doc_navigation">连接池属性</span><span>可设置该JDBC数据连接的连接池配置，详细请查看</span><span><a href="http://www.finereporthelp.com/help/31/0/folder.html" target="_blank" onclick="addTabPage(href,this.innerHTML);return false;">JDBC连接池属性</a></span><span>，这里使用默认设置，一般性都是用默认设置。</span></div><ul class=doc_bullets><li>输入用户名、密码，测试连接</li></ul><div class=doc_description><span>如果有用户名密码，输入Access数据库用户名与密码，点击左上方的</span><span class="doc_navigation">测试连接</span><span>，提示成功，数据库连接便定义好了。</span></div><div class=doc_description><span class="doc_warning">注：测试连接成功并不是说已经可以正确地获取到数据库的数据，测试的只是网络连接。</span></div><a name="a:1.2"><div class=doc_h2>1.2 <span>Oracle数据库</span></div></a><ul class=doc_bullets><li>新建数据库，选择JDBC方式连接</li></ul><div class=doc_description><img src=7-6.png></img></div><ul class=doc_bullets><li>选择数据库类型，修改URL</li></ul><div class=doc_description><span>选择数据库类型如Oracle，会自动加载的驱动器及默认的URL，根据实际数据库服务器地址修改URL，如下：</span></div><div class=doc_description><img src=7-7.png></img></div><ul class=doc_bullets><li>连接池属性</li></ul><div class=doc_description><span>点击</span><span class="doc_navigation">连接池属性</span><span>可设置该JDBC数据连接的连接池配置，详细请查看</span><span><a href="../../31/0/folder.html" target="_blank" onclick="addTabPage(href,this.innerHTML);return false;">JDBC连接池属性</a></span><span>，这里使用默认设置，一般性都是用默认设置。</span></div><ul class=doc_bullets><li>输入用户名、密码，测试连接</li></ul><div class=doc_description><span>输入Oracle数据库用户名与密码，点击左上方的</span><span class="doc_navigation">测试连接</span><span>，提示成功，数据库连接便定义好了。</span></div><div class=doc_description><img src=7-8.png></img></div><div class=doc_description><span>其他数据库连接步骤相同。</span></div><div class=doc_description><span class="doc_warning">注：测试连接成功并不是说已经可以正确地获取到数据库的数据，测试的只是网络连接。</span></div><a name="a:2."><div class=doc_h1>2. <span>数据库驱动及URL对应表</span></div></a><div class=doc_description><span>以下列出设计器中支持的数据库及对应的连接属性值：</span></div><div class=doc_description><table id="table" width="80%" bordercolor="black" cellspacing="0" border="1px"><tr><td>数据库类型</td><td>驱动器</td><td>URL</td><td>支持数据库版本</td></tr><tr><td>Oracle</td><td>oracle.jdbc.driver.OracleDriver</td><td>jdbc:oracle:thin:@ip:1521:databaseName</td><td>Oracle9i、Oracle10g、Oracle11g</td></tr><tr><td>Oracle</td><td>oracle.jdbc.driver.OracleDriver</td><td>jdbc:oracle:oci:@databaseName</td><td rowspan="2">Oracle9i、Oracle10g、Oracle11g</td></tr><tr><td>Sqlite</td><td>org.sqlite.JDBC</td><td>jdbc:sqlite://${ENV_HOME}/../FRDemo.db</td></tr><tr><td>DB2</td><td>com.ibm.db2.jcc.DB2Driver</td><td>jdbc:db2://ip:50000/databaseName</td><td>DB2_7.2、DB2_8.1</td></tr><tr><td>SQL Server</td><td>com.microsoft.sqlserver.jdbc.SQLServerDriver</td><td>jdbc:sqlserver://ip:1433;databaseName=xxx</td><td>SQL Server2000、2005、2008</td></tr><tr><td>MySQL</td><td>com.mysql.jdbc.Driver</td><td>jdbc:mysql://ip/databaseName?user=root&useUnicode=True&characterEncoding=gb2312</td><td>MySQL4.0版本以上</td></tr><tr><td>MySQL</td><td>org.gjt.mm.mysql.Driver</td><td>jdbc:mysql://ip/databaseName?user=root&useUnicode=True&characterEncoding=gb2312</td><td>MySQL4.0版本以上</td></tr><tr><td>Sybase</td><td>com.sybase.jdbc2.jdbc.SybDriver</td><td>jdbc:sybase:Tds:ip:5000/databaseName?CHARSET=cp936</td><td>Sybase</td></tr><tr><td>Access</td><td>sun.jdbc.odbc.JdbcOdbcDriver</td><td>jdbc:odbc:Driver={Microsoft Access Driver (*.mdb)};DBQ=${ENV_HOME}\..\FRDemo.mdb</td><td>Access</td></tr><tr><td>Access</td><td>sun.jdbc.odbc.JdbcOdbcDriver</td><td>jdbc:odbc:Driver={Microsoft Access Driver (*.mdb, *accdb)};DBQ=${ENV_HOME}\..\FRDemo.accdb</td><td>Access2007及以上版本</td></tr><tr><td>Access</td><td>net.ucanaccess.jdbc.UcanaccessDriver</td><td>jdbc:ucanaccess://数据库所在路径</td><td>Access</td></tr><tr><td>Derby</td><td>org.apache.derby.jdbc.ClientDriver</td><td>jdbc:derby://ip:1527/databaseName</td><td>Derby</td></tr><tr><td>Postgre</td><td>org.postgresql.Driver</td><td>jdbc:postgresql://ip:5432/databaseName</td><td>Postgre</td></tr><tr><td>Others</td><td>org.hsqldb.jdbcDriver</td><td>jdbc:hsqldb:file:[PATH_TO_DB_FILES]</td><td>Hsql</td></tr></table></div><div class=doc_description><span class="doc_warning">注：在进行数据连接的时候要注意驱动器支持的数据库版本，如果选择的数据库版本不在上述表格中，那么就需要更换驱动器。</span></div><ul class=doc_bullets><li>示例</li></ul><div class=doc_description><span>使用oracle数据库的时候，没有使用上述表格中所说的版本，而是oracle7.2.3，那么需要把oracle7中jdbc/lib目录下的classes12.jar放进FR的WEB-INF/lib中，同时删除ojdbc14.jar。相当于换了一个oracle驱动。</span></div><div class=doc_description><span class="doc_warning">注：如果FR内置没有JDBC数据连接使用的驱动，需要用户自己将对应驱动放置在</span><span class="doc_dir">%FR_HOME%\WebReport\WEB-INF\lib</span><span></span><span class="doc_warning">文件夹下，如果放入驱动之后还是连接不上，请注意驱动版本和是否需要辅助jar。</span></div>
			<table class="dc_table" width="100%">
				<tr>
					<td>
						&nbsp
					</td>
					<td class="span_td">
						<div class="abc" id="yesinput" onClick="javascript:yes()">
							<table width="150px" height="18px">
								<tr>
									<td>
										&nbsp
									</td>
								</tr>
							</table>
							<div class="per">
								<span id="sb"
									style="width: 0px; height: 5px; background: #000080; display: block"></span>
							</div>
							<span id="yes" class="test"></span>
						</div>
					</td>
					<td width="5px">
						&nbsp
					</td>
					<td class="span_td">
						<div class="abc" id="noinput" onClick="javascript:no()">
							<table width="150px">
								<tr>
									<td>
										&nbsp
									</td>
								</tr>
							</table>
							<div class="per">
								<span id="sa"
									style="width: 0px; height: 5px; background: #000080; display: block"></span>
							</div>
							<span id="no"></span><span id="testno"></span>
						</div>
					</td>
					<td>
						&nbsp
						<span id="hidespan">&nbsp</span>
					</td>
				</tr>
			</table>
			<div class="xuxian_hr"></div>
			<div class='comment_div'>
				文明发言，用心评论
			</div>
			<table class='newcomment_table'>
				<tr>
					<td id="comment_td" rowspan="2">
						<textarea class="input" name="comment" id="comment_id"></textarea>
					</td>
					<td>
						&nbsp
					</td>
					<td class='newcomment_td'>
						<div class="newcomment_div">
							应用此篇文章，您:
						</div>
						<input type="radio" id="solveproblem" name="solveproblem"
							value="yes" onClick="addcomment('不费力')">
						不费力
						<br>

						<input type="radio" id="solveproblem" name="solveproblem"
							checked="checked" value="Medium" onClick="addcomment('研究了一会')">
						研究了一会
						<br>
						<input type="radio" id="solveproblem" name="solveproblem"
							value="no" onClick="addcomment('琢磨了好久')">
						琢磨了好久
						<br>
					</td>
				</tr>
				<tr>
					<td>
						&nbsp
					</td>
					<td id="commit_td">
						<div id="commit_id" type="button" name="commit" value=""
							onclick="dosubmit('comment');" />
					</td>
				</tr>
			</table>
			<div class='tabnav'>

				<a id='tab1' onclick='changeTab(1)' name="A"></a>
				<!-- | <a id='tab2' onclick='changeTab(2)' name="B">相关问题</a> -->
			 </div>
			<div id='tabid1' class='tabid'>
				<table id="reportFramed_table">
					<tr id="sel_tr">
						<td class="selall" align="right">
							<a id="ycsall_td" onClick="selmore('aa')">查看全部<span
								id="countallcomment" class="countallcomment"></span>条>></a>
						</td>
						<td class="selall" align="right">
							<a id="yc_td" style="display: none" onClick="selmore('bb')">
								&lt;&lt;只显示<span class="countallcomment">5</span>条 </a>
						</td>
					</tr>
					<tr align="left">
						<td colspan="2" align="left" id="reportFramed">
							<iframe scrolling="no" frameborder="0" frameborder="no"
								align="left" id="reportFrame"></iframe> 
						</td>
					</tr>

				</table>
			</div>

			<div id='tabid2' class='tabid' style='display: none;'>
				<table width="90%">
					<tr>
						<td align="right">
							<a width="95%" href="http://bbs.finereport.com/forum.php">去论坛提问</a>
							<br>
						</td>
					</tr>
				</table>

				<iframe frameBorder="0" align="left" width="98%" height="500px"
					id="luntaniframe"></iframe>
			</div>
			<tr> </tr>
			<tr> </tr>
			<tr> </tr>
		<div class="onlineService" style="display: block;">
			<div class="ico_sh">
				<a  id='copytitle' href="javascript:void(0);" onclick="copytitle()" title="" style="width: 37px; overflow: hidden;"></a>
			</div>

			<div class="ico_pp">
				<a href="http://bbs.finereport.com/plugin.php?id=hux_zhidao:hux_zhidao" target="_blank" title="问题求助" style="width: 37px; overflow: hidden;"></a>
			</div>
			<div class="ico_gt">
				<a href="javascript:void(0);" title="" style="overflow: hidden; width: 37px;"></a>
		    </div>
		</div>			


<!-- JiaThis Button BEGIN -->
<script type="text/javascript" >
var jiathis_config={
	summary:"",
	marginTop:20,
	showClose:true,
	shortUrl:false,
	hideMore:false
}
</script>
<script type="text/javascript" src="http://v3.jiathis.com/code/jiathis_r.js?btn=r.gif&move=0" charset="utf-8"></script>
<!-- JiaThis Button END -->

			<table width="100%">
				<tbody>
					<tr>
						<td align="right">
							CopyRight@2015
							<br />
							帆软软件有限公司 苏ICP备14031611号-1
						</td>
					</tr>
				</tbody>
			</table>
		</div>
	</body>
</html>